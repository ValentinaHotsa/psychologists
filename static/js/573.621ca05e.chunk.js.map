{"version":3,"file":"static/js/573.621ca05e.chunk.js","mappings":"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","sources":["components/psychologistsList/PsychologistsListStyles.jsx","components/psychologistsList/PsychologistsList.jsx","redux/psychologists/operations.js","pages/PsychologistsPage.jsx"],"sourcesContent":["import styled from \"@emotion/styled\";\r\nimport { theme } from \"../../styles/root\";\r\n\r\nexport const PsychologistsPageSection = styled.section`\r\n  height: 100%;\r\n  width: 100%;\r\n  padding: 64px 16px;\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: center;\r\n  align-items: center;\r\n`;\r\n\r\nexport const ListWrap = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n`;\r\n\r\nexport const List = styled.ul`\r\n  margin-bottom: 64px;\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 24px;\r\n`;\r\n\r\nexport const LoadButton = styled.button`\r\n  color: ${theme.colors.white};\r\n  font-size: 16px;\r\n  font-weight: 500;\r\n  line-height: 20px;\r\n  transition: background-color 0.3s ease;\r\n  background-color: ${theme.colors.green};\r\n  border-radius: 30px;\r\n  border: none;\r\n  padding: 14px 48px;\r\n  margin: 0 auto;\r\n\r\n  &:hover {\r\n    background: rgb(54, 163, 121);\r\n  }\r\n`;\r\n\r\nexport const Pc = styled.div``;\r\n","import { useEffect } from \"react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { fetchPsychologists } from \"../../redux/psychologists/operations\";\r\nimport {\r\n  selectPsychologists,\r\n  selectCurrentPage,\r\n  selectFilter,\r\n  selectItemsPerPage,\r\n} from \"../../redux/psychologists/selectors\";\r\nimport { resetState, nextPage } from \"../../redux/psychologists/slice\";\r\nimport Filter from \"../../components/Filter/Filter\";\r\nimport PsychologistItem from \"../PsychologistItem/PsychologistItem\";\r\nimport {\r\n  PsychologistsPageSection,\r\n  ListWrap,\r\n  List,\r\n  Pc,\r\n  LoadButton,\r\n} from \"./PsychologistsListStyles\";\r\nimport ScrollUp from \"../ScrollUp/ScrollUp\";\r\n\r\nconst PsychologistsList = () => {\r\n  const dispatch = useDispatch();\r\n  const psychologists = useSelector(selectPsychologists);\r\n  const currentPage = useSelector(selectCurrentPage);\r\n  const filter = useSelector(selectFilter);\r\n  const itemsPerPage = useSelector(selectItemsPerPage);\r\n\r\n  const applyFilter = (psychologists, filter) => {\r\n    switch (filter) {\r\n      case \"A to Z\":\r\n        return psychologists\r\n          .slice()\r\n          .sort((a, b) => a.name.localeCompare(b.name));\r\n      case \"Z to A\":\r\n        return psychologists\r\n          .slice()\r\n          .sort((a, b) => b.name.localeCompare(a.name));\r\n      case \"Less to greater\":\r\n        return psychologists\r\n          .slice()\r\n          .sort((a, b) => a.price_per_hour - b.price_per_hour);\r\n      case \"Greater to less\":\r\n        return psychologists\r\n          .slice()\r\n          .sort((a, b) => b.price_per_hour - a.price_per_hour);\r\n      case \"Popular\":\r\n        return psychologists.slice().sort((a, b) => b.rating - a.rating);\r\n      case \"Not popular\":\r\n        return psychologists.slice().sort((a, b) => a.rating - b.rating);\r\n      default:\r\n        return psychologists;\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    dispatch(fetchPsychologists());\r\n  }, [dispatch]);\r\n\r\n  useEffect(() => {\r\n    return () => {\r\n      dispatch(resetState());\r\n    };\r\n  }, [dispatch]);\r\n\r\n  const filteredPsychologists = applyFilter(psychologists, filter);\r\n\r\n  const visiblePsychologists = filteredPsychologists.slice(\r\n    0,\r\n    currentPage * itemsPerPage\r\n  );\r\n  const itemsNeedVisible = visiblePsychologists.length < psychologists.length;\r\n\r\n  const handleLoadMore = () => {\r\n    dispatch(nextPage());\r\n  };\r\n\r\n  return (\r\n    <PsychologistsPageSection>\r\n      <Pc>\r\n        <Filter />\r\n        <ListWrap>\r\n          <List>\r\n            {visiblePsychologists.map((psychologist) => (\r\n              <PsychologistItem\r\n                key={psychologist.id}\r\n                psychologist={psychologist}\r\n              />\r\n            ))}\r\n          </List>\r\n          {itemsNeedVisible && (\r\n            <LoadButton onClick={handleLoadMore}>Load more</LoadButton>\r\n          )}\r\n        </ListWrap>\r\n      </Pc>\r\n      <ScrollUp />\r\n    </PsychologistsPageSection>\r\n  );\r\n};\r\n\r\nexport default PsychologistsList;\r\n","// operations.js\r\nimport { ref, onValue } from \"firebase/database\";\r\nimport { db } from \"../../firebase\";\r\nimport { setPsychologists } from \"./slice\";\r\n\r\nexport const fetchPsychologists = () => (dispatch) => {\r\n  const unsubscribe = onValue(ref(db), (snapshot) => {\r\n    const data = snapshot.val();\r\n\r\n    const psychologistsArray = Array.isArray(data) ? data : Object.values(data);\r\n    const psychologistsWithId = psychologistsArray.map((psychologist) => ({\r\n      ...psychologist,\r\n      id: psychologist.name,\r\n    }));\r\n\r\n    dispatch(setPsychologists(psychologistsWithId));\r\n  });\r\n\r\n  return () => {\r\n    unsubscribe();\r\n  };\r\n};\r\n","import PsychologistsList from \"../components/psychologistsList/PsychologistsList\";\r\nconst PsychologistsPage = () => {\r\n  return <PsychologistsList />;\r\n};\r\nexport default PsychologistsPage;\r\n"],"names":["PsychologistsPageSection","styled","section","_templateObject","_taggedTemplateLiteral","ListWrap","div","_templateObject2","List","ul","_templateObject3","LoadButton","button","_templateObject4","theme","colors","white","green","Pc","_templateObject5","PsychologistsList","dispatch","useDispatch","psychologists","useSelector","selectPsychologists","currentPage","selectCurrentPage","filter","selectFilter","itemsPerPage","selectItemsPerPage","useEffect","unsubscribe","onValue","ref","db","snapshot","data","val","psychologistsWithId","Array","isArray","Object","values","map","psychologist","id","name","setPsychologists","resetState","filteredPsychologists","applyFilter","slice","sort","a","b","localeCompare","price_per_hour","rating","visiblePsychologists","itemsNeedVisible","length","_jsxs","children","_jsx","Filter","PsychologistItem","onClick","handleLoadMore","nextPage","ScrollUp","PsychologistsPage"],"sourceRoot":""}